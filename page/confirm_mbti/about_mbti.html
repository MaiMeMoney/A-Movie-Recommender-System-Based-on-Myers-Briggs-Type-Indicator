<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI Personality Detail</title>
    <link rel="stylesheet" href="style.css">
    <script>
        function goBack() {
            window.history.back();
        }
    </script>
</head>
<body>
    <div class="container">
        <header>
            <h1 id="mbti-title">CHOOSE YOUR MBTI</h1>
            <!-- <p class="quote">THOUGHT CONSTITUTES THE GREATNESS OF MAN. MAN IS A REED, THE FEEBLEST THING IN NATURE, BUT HE IS A THINKING REED.</p> -->
        </header>

        <div class="personality-box">
            <div class="character-image">
                <img id="character-img" src="architect.png" alt="Architect" class="character-img">
                <h2 id="character-name">ARCHITECT</h2>
                <p id="subtext" class="subtext">INTJ-A / INTJ-T</p>
            </div>
            <div class="description">
                <p id="mbti-description" class="personality-text">
                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.
                </p>
            </div>
        </div>

        <div class="buttons">
            <button class="confirm-btn" onclick="confirmMBTI()">CONFIRM YOUR MBTI</button>
        </div>
        <div class="back-button">
            <button class="back-btn" onclick="goBack()">&#x21A9;</button>
        </div>
    </div>

    <script>
        // Load the selected MBTI type and set it to the page
        document.addEventListener('DOMContentLoaded', () => {
            const mbtiType = localStorage.getItem('selectedMBTI');
            if (mbtiType) {
                updateMBTIInfo(mbtiType);
            }
        });

        // Function to update MBTI info dynamically
        function updateMBTIInfo(type) {
            const descriptions = {
                "INTJ": {
                    name: "ARCHITECT",
                    subtext: "INTJ-A / INTJ-T",
                    description: "Architects are strategic, creative, and enjoy planning for the future.",
                    img: "architect.png"
                },
                "INTP": {
                    name: "LOGICIAN",
                    subtext: "INTP-A / INTP-T",
                    description: "Logicians are analytical, abstract thinkers who value independence.",
                    img: "logician.png"
                },
                // Add more MBTI types as needed
            };

            const mbtiInfo = descriptions[type];
            if (mbtiInfo) {
                document.getElementById('character-name').innerText = mbtiInfo.name;
                document.getElementById('subtext').innerText = mbtiInfo.subtext;
                document.getElementById('mbti-description').innerText = mbtiInfo.description;
                document.getElementById('character-img').src = mbtiInfo.img;
                document.getElementById('character-img').alt = mbtiInfo.name;
            }
        }

        // Function to confirm MBTI and save to database
        function confirmMBTI() {
            const mbtiType = localStorage.getItem('selectedMBTI');
            if (mbtiType) {
                fetch('http://localhost:3000/api/saveMBTI', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ mbtiType })
                })
                .then(response => response.json())
                .then(data => {
                    alert(data.message);
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            }
        }
    </script>
</body>
</html>
