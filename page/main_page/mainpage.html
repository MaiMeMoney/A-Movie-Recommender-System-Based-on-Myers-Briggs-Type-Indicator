<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MovieMingle</title>
    <link rel="stylesheet" href="styles.css">
    <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏° FontAwesome ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>
<body>
    <header>
        <div class="navbar">
            <div class="logo">
                <a href="/page/main_page/mainpage.html" style="text-decoration: none; color: inherit;">MOVIEMINGLE</a>
            </div>
            <div class="search-container">
                <select id="search-category">
                    <option value="title">Movie Title</option>
                    <option value="actor">Actor</option>
                    <option value="director">Director</option>
                    <option value="genre">Genre</option>
                </select>
                <input type="text" id="search-bar" class="search-bar" placeholder="Search Movie...">
                <div id="suggestion-box"></div>
                <button id="search-button">Search</button>
            </div>
            <div class="my-list">
                <span id="username-display" class="username-display"></span>
                <a href="/page/watchlist/index.html" class="my-list-icon">
                    <i class="fas fa-bookmark"></i>
                </a>
                <button class="account-icon" onclick="goToProfile()">üë§</button>
                 <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏°‡∏á‡∏Å‡∏∏‡∏è -->
                 <button id="admin-icon" class="admin-icon" onclick="goToAdminDashboard()" style="display: none;">
                    üëë
                </button>
            </div>
        </div>
    </header>
    
    

    <main> 
        <!-- Section MBTI Recommendations -->
        <section class="mbti-recommend">
            <div class="recommend-header">
                <h2>RECOMMENDED BY YOUR MBTI TYPE</h2>
                <a href="../recommend_page/recommend_page.html">
                    <button id="recommend-me-btn" class="recommend-me">RECOMMEND ME</button>
                </a>
            </div>
            
            <div class="slider-container">
                <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ -->
                <button class="slide-btn left" onclick="scrollLeft('mbti-recommend')">‚ùÆ</button>
        
                <div class="movie-list">
                </div>
        
                <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏ß‡∏≤ -->
                <button class="slide-btn right" onclick="scrollRight('mbti-recommend')">‚ùØ</button>
            </div>
        </section>
        
        
        
        <section class="movie-suggestions">
            <h2>MOVIE YOU MIGHT LIKE <a href="#" id="see-more-movie-suggestions"></a></h2>
            <div class="slider-container">
                <!-- <button class="slide-btn left" onclick="scrollLeft('movie-suggestions')">‚ùÆ</button> -->
                <!-- Movies will be injected here -->
                <div class="movie-list"></div>
                <!-- <button class="slide-btn right" onclick="scrollRight('movie-suggestions')">‚ùØ</button> -->
            </div>
        </section>
        
        <section class="sci-fi">
            <h2>SCI-FI <a href="#" id="see-more-sci-fi">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('sci-fi')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ genre "Sci-Fi" ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('sci-fi')">‚ùØ</button>
            </div>
        </section>
        
        

        <section class="action">
            <h2>ACTION <a href="#" id="see-more-action">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('action')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ genre "Action" ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('action')">‚ùØ</button>
            </div>
        </section>
        
        
        <section class="fantasy">
            <h2>FANTASY <a href="#" id="see-more-fantasy">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('fantasy')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ genre "Fantasy" ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('fantasy')">‚ùØ</button>
            </div>
        </section>
        
        
        <section class="drama">
            <h2>DRAMA <a href="#" id="see-more-drama">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('drama')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ genre "Drama" ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('drama')">‚ùØ</button>
            </div>
        </section>
        
        
        <section class="horror">
            <h2>HORROR <a href="#" id="see-more-horror">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('horror')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ genre "Horror" ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('horror')">‚ùØ</button>
            </div>
        </section>
        
        
        <section class="thriller">
            <h2>THRILLER <a href="#" id="see-more-thriller">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('thriller')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ genre "Thriller" ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('thriller')">‚ùØ</button>
            </div>
        </section>
        
        
        <section class="comedy">
            <h2>COMEDY <a href="#" id="see-more-comedy">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('comedy')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ genre "Comedy" ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('comedy')">‚ùØ</button>
            </div>
        </section>
        
        
        <section class="romance">
            <h2>ROMANCE <a href="#" id="see-more-romance">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('romance')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ genre "Romance" ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('romance')">‚ùØ</button>
            </div>
        </section>
        
        
        <section class="mystery">
            <h2>MYSTERY <a href="#" id="see-more-mystery">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('mystery')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ genre "Mystery" ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('mystery')">‚ùØ</button>
            </div>
        </section>
        
        
        <section class="history">
            <h2>HISTORY <a href="#" id="see-more-history">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('history')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ genre "History" ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('history')">‚ùØ</button>
            </div>
        </section>
        
        
        <section class="adventure">
            <h2>ADVENTURE <a href="#" id="see-more-adventure">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('adventure')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ genre "Adventure" ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('adventure')">‚ùØ</button>
            </div>
        </section>
        
        
        <section class="animation">
            <h2>ANIMATION <a href="#" id="see-more-animation">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('animation')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ genre "Animation" ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('animation')">‚ùØ</button>
            </div>
        </section>
        
        
        <section class="biography">
            <h2>BIOGRAPHY <a href="#" id="see-more-biography">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('biography')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ genre "Biography" ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('biography')">‚ùØ</button>
            </div>
        </section>
        
        
        <section class="family">
            <h2>FAMILY <a href="#" id="see-more-family">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('family')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ genre "family" ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('family')">‚ùØ</button>
            </div>
        </section>
        
        
        <section class="crime">
            <h2>CRIME <a href="#" id="see-more-crime">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('crime')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('crime')">‚ùØ</button>
            </div>
        </section>        
        
        <section class="sport">
            <h2>SPORT <a href="#" id="see-more-sport">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('sport')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å API ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('sport')">‚ùØ</button>
            </div>
        </section>
        
        
        <section class="musical">
            <h2>MUSICAL <a href="#" id="see-more-musical">SEE MORE</a></h2>
            <div class="slider-container">
                <button class="slide-btn left" onclick="scrollLeft('musical')">‚ùÆ</button>
                <div class="movie-list">
                    <!-- ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ genre "musical" ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
                </div>
                <button class="slide-btn right" onclick="scrollRight('musical')">‚ùØ</button>
            </div>
        </section>
        
        
    </main>
    <script>
document.addEventListener('DOMContentLoaded', function () {
    const username = localStorage.getItem('username');

    if (!username) {
        alert('You are not logged in!');
        window.location.href = '/page/login_page/index.html';
        return;
    }

    document.getElementById('username-display').textContent = `Welcome, ${username}`;

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß
    window.goToProfile = function () {
        window.location.href = `/page/Personal information editing page/index.html?username=${username}`;
    };

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö MBTI ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° Recommend Me
    document.getElementById('recommend-me-btn').addEventListener('click', async function () {
        try {
            const response = await fetch('http://localhost:5001/api/check-mbti', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ username }),
            });

            const data = await response.json();
            if (data.hasMBTI) {
                window.location.href = '/page/seemore_page/index.html'; // ‡∏û‡∏≤‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏´‡∏ô‡∏±‡∏á
            } else {
                window.location.href = '/page/mbti_selection/mbti_selection.html'; // ‡∏û‡∏≤‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å MBTI
            }
        } catch (error) {
            console.error("Error checking MBTI:", error);
            alert('An error occurred. Please try again later.');
        }
    });
});
    </script>
    <script src="script.js"></script>
</body>
</html>